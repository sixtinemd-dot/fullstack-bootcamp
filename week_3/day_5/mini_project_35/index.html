<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
    <style>
        #sideBar {
    display: grid;
    grid-gap: 5px;
    grid-template-columns: repeat(3, 1fr);
    grid-template-rows: repeat(8, 1fr);
    height: 100%;
    width: 20%;
    position: absolute;
    float: left;
    background-color: lightgray;
    border: 5xp solid grey;
}

#button {
    height: 10%;
    width: 90%;
    background-color: lightgray;
    border-radius: 8px;
    border: 1px solid grey;
    color: grey;
    padding: 5px;
    text-align: center;
    align-content: center;
    position: absolute;
    font-size: 22px;
    margin: 9px 14px;
    cursor: pointer;
}

#button:hover{
    transform: scale(1.05);
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
}

#grid {
    display: grid;
    grid-template-columns: repeat(65, 1fr);
    grid-template-rows: repeat(65, 1fr);
    height: 70vw;
    width: 70vw;
    gap: 1px;
    margin: 0% 21%;
    border: 1px solid grey;
    background-color: lightgray;

}

.gridDiv {
    background-color: white;
    transition: background-color 0.2s;
}

.colorBox {
    border: 1px solid black;
    cursor: pointer;
}

.colorBox:hover {
    transform: scale(1.05);
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
}

.emptyColorBox {
    border: none;
}


#selectedIcon {
    background-image: url("https://icons.veryicon.com/png/o/miscellaneous/project-management-tools/select-not-selected.png");
}
    </style>
</head>
<body>
    <div id="sideBar">
        <button id="button">CLEAR</button>
    </div>
        
    <div id="grid"></div>
</body>
<script src="mini_project.js">
    // create the empty grid

let grid = document.getElementById("grid")

const gridCols = 65
const gridRows = 65

for (let i = 0; i < gridRows * gridCols; i++) {
    let gridDiv = document.createElement("div")
    gridDiv.classList.add("gridDiv")
    grid.appendChild(gridDiv)
}

let gridDiv = document.createElement("div")


// create color selector

const sideBar = document.getElementById("sideBar")

const sideCols = 3
const sideRows = 8

const colors = [
  "none",
  "none",
  "none",
   // Reds
  "#e10b0bff", // dark red
  "#43AA8B", // dark green
  "#b56ff7ff", // light purple
  "#FF6B6B", // light red
  "#83ee31ff", // light green
  "#FF006E", // neon pink
  "#F77F00", // dark orange
  "#00BFA6", // bright teal
  "#FF85A2", // pastel pink
  "#FDBA74", // light orange
  "#7FDBFF", // pastel cyan
  "#6b4121ff", // brown
  "#F9C74F", // dark yellow
  "#277DA1", // dark blue  
  "#a78956ff", // lighter brown
  "#2323f5ff", // electric blue
  "#0f6515ff", // dark green
  "#6C757D", // grey
  "#FFFFFF",  // white
  "#7209B7", // dark purple  
  "#000000", // black
  
]
for (let i = 0; i < sideRows * sideCols; i++) {
    let sideColor = document.createElement("div")

    sideColor.style.backgroundColor = colors[i]

    if (i < 3) {
        sideColor.classList.add("emptyColorBox")
    } else {
        sideColor.classList.add("colorBox")
    }

    sideBar.appendChild(sideColor)
}

// color the cells
// 1. select the color

let selectedColor = null
let isMouseDown = false
let selectedIcon = null

let sideColors = document.getElementsByClassName("colorBox")

for (let box of sideColors) {
    box.addEventListener("click", () => {
        selectedColor = box.style.backgroundColor
         if (selectedIcon) selectedIcon.remove()
        selectedIcon = document.createElement("img")
        selectedIcon.id = "selectedIcon"
        selectedIcon.src = "https://static.thenounproject.com/png/443154-200.png"
        selectedIcon.style.width = "30px"
        selectedIcon.style.height = "30px"
        box.appendChild(selectedIcon)

    })
}

// 2. color the cells

let gridCells = document.getElementsByClassName("gridDiv")

document.body.addEventListener("mousedown", () => isMouseDown = true);
document.body.addEventListener("mouseup", () => isMouseDown = false);

// click and drag the color in the cells

for (let cell of gridCells) {
    cell.addEventListener("mouseover", () => {
        if (selectedColor && isMouseDown) {
            cell.style.backgroundColor = selectedColor
        }
    })

    cell.addEventListener("click", () => {
        if (selectedColor) {
            cell.style.backgroundColor = selectedColor;
        }
    });
}

// clear the cells

const clearButton = document.getElementById("button")
clearButton.addEventListener("click", () => {
    if (selectedIcon) selectedIcon.remove()
    for(let cell of gridCells) {
         cell.style.backgroundColor = "white"
    }
})





</script>
</html>